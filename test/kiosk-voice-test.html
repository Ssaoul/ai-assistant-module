<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸª í‚¤ì˜¤ìŠ¤í¬ ìŒì„± ì¸ì‹ í…ŒìŠ¤íŠ¸</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            font-family: 'Malgun Gothic', Arial, sans-serif; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        /* í‚¤ì˜¤ìŠ¤í¬ ìƒë‹¨ í—¤ë” */
        .kiosk-header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        
        .kiosk-header h1 {
            font-size: 28px;
            margin-bottom: 5px;
        }
        
        .voice-status {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
            padding: 8px 16px;
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            font-size: 14px;
        }
        
        .mic-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #95a5a6;
            transition: all 0.3s ease;
        }
        
        .mic-indicator.listening {
            background: #e74c3c;
            animation: pulse 1s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.2); }
            100% { opacity: 1; transform: scale(1); }
        }
        
        /* ë©”ì¸ ì»¨í…Œì´ë„ˆ */
        .main-container {
            display: flex;
            flex: 1;
            gap: 20px;
            padding: 20px;
        }
        
        /* í‚¤ì˜¤ìŠ¤í¬ í™”ë©´ */
        .kiosk-screen {
            flex: 2;
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            display: flex;
            flex-direction: column;
        }
        
        .screen-header {
            text-align: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #ecf0f1;
        }
        
        .screen-header h2 {
            color: #2c3e50;
            font-size: 24px;
            margin-bottom: 5px;
        }
        
        .screen-header p {
            color: #7f8c8d;
            font-size: 14px;
        }
        
        /* ë©”ë‰´ ê·¸ë¦¬ë“œ */
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .menu-item {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: 2px solid #dee2e6;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .menu-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            border-color: #007bff;
        }
        
        .menu-item.selected {
            background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
            color: white;
            border-color: #0056b3;
        }
        
        .menu-item .icon {
            font-size: 36px;
            margin-bottom: 8px;
            display: block;
        }
        
        .menu-item .name {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .menu-item .price {
            font-size: 14px;
            color: #6c757d;
        }
        
        .menu-item.selected .price {
            color: #ffffff;
        }
        
        /* í•˜ë‹¨ ë²„íŠ¼ë“¤ */
        .action-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: auto;
        }
        
        .action-btn {
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .action-btn.primary {
            background: #28a745;
            color: white;
        }
        
        .action-btn.secondary {
            background: #6c757d;
            color: white;
        }
        
        .action-btn.danger {
            background: #dc3545;
            color: white;
        }
        
        .action-btn.info {
            background: #17a2b8;
            color: white;
        }
        
        .action-btn:hover {
            transform: translateY(-1px);
            filter: brightness(1.1);
        }
        
        /* ìš°ì¸¡ íŒ¨ë„ */
        .right-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        /* ì„±ëŠ¥ ëª¨ë‹ˆí„° */
        .performance-monitor {
            background: rgba(255,255,255,0.95);
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .performance-monitor h3 {
            color: #2c3e50;
            font-size: 18px;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .performance-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .stat-item {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 6px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 20px;
            font-weight: bold;
            color: #007bff;
        }
        
        .stat-label {
            font-size: 12px;
            color: #6c757d;
            margin-top: 2px;
        }
        
        .ai-strategy {
            background: #e3f2fd;
            padding: 8px;
            border-radius: 6px;
            text-align: center;
            font-size: 12px;
            color: #1976d2;
            border: 1px solid #bbdefb;
        }
        
        /* ë¡œê·¸ ì˜ì—­ */
        .log-panel {
            background: rgba(0,0,0,0.9);
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .log-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .log-header h3 {
            color: #00ff00;
            font-size: 16px;
            margin: 0;
        }
        
        .log-controls {
            display: flex;
            gap: 5px;
        }
        
        .log-btn {
            padding: 4px 8px;
            font-size: 11px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            background: #333;
            color: white;
        }
        
        .log-btn:hover {
            background: #555;
        }
        
        .log-content {
            background: #000;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            font-size: 11px;
            line-height: 1.4;
            padding: 10px;
            border-radius: 5px;
            height: 200px;
            overflow-y: auto;
            flex: 1;
        }
        
        .log-content::-webkit-scrollbar {
            width: 6px;
        }
        
        .log-content::-webkit-scrollbar-track {
            background: #333;
        }
        
        .log-content::-webkit-scrollbar-thumb {
            background: #666;
            border-radius: 3px;
        }
        
        .log-entry {
            margin: 2px 0;
        }
        
        .log-entry.success { color: #00ff00; }
        .log-entry.error { color: #ff6b6b; }
        .log-entry.warning { color: #ffd43b; }
        .log-entry.info { color: #74c0fc; }
        .log-entry.ai { color: #ff9500; }
        .log-entry.performance { color: #51cf66; }
        
        /* ë°˜ì‘í˜• */
        @media (max-width: 1200px) {
            .main-container {
                flex-direction: column;
            }
            
            .right-panel {
                flex-direction: row;
            }
            
            .log-content {
                height: 150px;
            }
        }
    </style>
</head>
<body>
    <!-- í‚¤ì˜¤ìŠ¤í¬ í—¤ë” -->
    <div class="kiosk-header">
        <h1>ğŸª ë§›ìˆëŠ” ì¹´í˜ í‚¤ì˜¤ìŠ¤í¬</h1>
        <div class="voice-status">
            <div class="mic-indicator" id="micIndicator"></div>
            <span id="voiceStatusText">ìŒì„± ì¸ì‹ ëŒ€ê¸°ì¤‘...</span>
        </div>
    </div>

    <div class="main-container">
        <!-- í‚¤ì˜¤ìŠ¤í¬ ë©”ì¸ í™”ë©´ -->
        <div class="kiosk-screen">
            <div class="screen-header">
                <h2>ë©”ë‰´ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</h2>
                <p>ìŒì„±ìœ¼ë¡œ "ì•„ë©”ë¦¬ì¹´ë…¸ ì£¼ë¬¸", "ë¼ë–¼ 2ê°œ", "ë§¥ë‚  ê²€ìƒ‰" ë“± ìì—°ìŠ¤ëŸ½ê²Œ ë§í•´ë³´ì„¸ìš”</p>
            </div>
            
            <div class="menu-grid" id="menuGrid">
                <!-- ì»¤í”¼ ë©”ë‰´ -->
                <div class="menu-item" data-item="ì•„ë©”ë¦¬ì¹´ë…¸">
                    <span class="icon">â˜•</span>
                    <div class="name">ì•„ë©”ë¦¬ì¹´ë…¸</div>
                    <div class="price">3,500ì›</div>
                </div>
                
                <div class="menu-item" data-item="ì¹´í˜ë¼ë–¼">
                    <span class="icon">ğŸ¥›</span>
                    <div class="name">ì¹´í˜ë¼ë–¼</div>
                    <div class="price">4,000ì›</div>
                </div>
                
                <div class="menu-item" data-item="ì¹´í‘¸ì¹˜ë…¸">
                    <span class="icon">â˜•</span>
                    <div class="name">ì¹´í‘¸ì¹˜ë…¸</div>
                    <div class="price">4,500ì›</div>
                </div>
                
                <div class="menu-item" data-item="ë°”ë‹ë¼ë¼ë–¼">
                    <span class="icon">ğŸ¦</span>
                    <div class="name">ë°”ë‹ë¼ë¼ë–¼</div>
                    <div class="price">4,800ì›</div>
                </div>
                
                <div class="menu-item" data-item="ì•„ì´ìŠ¤í‹°">
                    <span class="icon">ğŸ§Š</span>
                    <div class="name">ì•„ì´ìŠ¤í‹°</div>
                    <div class="price">3,000ì›</div>
                </div>
                
                <div class="menu-item" data-item="í•«ì´ˆì½œë¦¿">
                    <span class="icon">ğŸ«</span>
                    <div class="name">í•«ì´ˆì½œë¦¿</div>
                    <div class="price">4,200ì›</div>
                </div>
                
                <!-- ë””ì €íŠ¸ -->
                <div class="menu-item" data-item="í¬ë¡œì™€ìƒ">
                    <span class="icon">ğŸ¥</span>
                    <div class="name">í¬ë¡œì™€ìƒ</div>
                    <div class="price">2,800ì›</div>
                </div>
                
                <div class="menu-item" data-item="ì¹˜ì¦ˆì¼€ì´í¬">
                    <span class="icon">ğŸ°</span>
                    <div class="name">ì¹˜ì¦ˆì¼€ì´í¬</div>
                    <div class="price">5,500ì›</div>
                </div>
                
                <div class="menu-item" data-item="ë§ˆì¹´ë¡±">
                    <span class="icon">ğŸ§</span>
                    <div class="name">ë§ˆì¹´ë¡±</div>
                    <div class="price">1,800ì›</div>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="action-btn primary" onclick="processOrder()">ğŸ›’ ì£¼ë¬¸í•˜ê¸°</button>
                <button class="action-btn secondary" onclick="clearSelection()">ğŸ—‘ï¸ ì´ˆê¸°í™”</button>
                <button class="action-btn info" onclick="showHelp()">â“ ë„ì›€ë§</button>
                <button class="action-btn danger" onclick="cancelOrder()">âŒ ì·¨ì†Œ</button>
            </div>
        </div>

        <!-- ìš°ì¸¡ íŒ¨ë„ -->
        <div class="right-panel">
            <!-- ì„±ëŠ¥ ëª¨ë‹ˆí„° -->
            <div class="performance-monitor">
                <h3>âš¡ AI ì„±ëŠ¥ ëª¨ë‹ˆí„°</h3>
                
                <div class="performance-stats">
                    <div class="stat-item">
                        <div class="stat-value" id="responseTime">0ms</div>
                        <div class="stat-label">ì‘ë‹µì‹œê°„</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="confidence">0%</div>
                        <div class="stat-label">ì¸ì‹ì •í™•ë„</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="successRate">0%</div>
                        <div class="stat-label">ì„±ê³µë¥ </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="totalCommands">0</div>
                        <div class="stat-label">ì´ ëª…ë ¹ìˆ˜</div>
                    </div>
                </div>
                
                <div class="ai-strategy" id="aiStrategy">
                    Fast-First Fallback ëŒ€ê¸°ì¤‘
                </div>
            </div>
            
            <!-- ë¡œê·¸ íŒ¨ë„ -->
            <div class="log-panel">
                <div class="log-header">
                    <h3>ğŸ“Š ì‹¤ì‹œê°„ ë¡œê·¸</h3>
                    <div class="log-controls">
                        <button class="log-btn" onclick="clearLogs()">ì§€ìš°ê¸°</button>
                        <button class="log-btn" onclick="exportLogs()">ì €ì¥</button>
                    </div>
                </div>
                <div class="log-content" id="logContent"></div>
            </div>
        </div>
    </div>

    <script src="../src/standalone/ai-assistant-standalone.js"></script>
    <script>
        // ê¸€ë¡œë²Œ ë³€ìˆ˜
        let assistant = null;
        let performanceStats = {
            totalCommands: 0,
            successfulCommands: 0,
            totalResponseTime: 0,
            lastConfidence: 0
        };
        let selectedItems = [];

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ ì´ˆê¸°í™”
        window.addEventListener('load', async () => {
            await initializeKioskAssistant();
            addLog('ğŸ‰ í‚¤ì˜¤ìŠ¤í¬ ìŒì„± ì¸ì‹ ì‹œìŠ¤í…œ ì‹œì‘', 'success');
            addLog('ğŸ’¡ ë©”ë‰´ ì´ë¦„ì„ ìì—°ìŠ¤ëŸ½ê²Œ ë§í•´ë³´ì„¸ìš”', 'info');
            
            // ë©”ë‰´ ì•„ì´í…œ í´ë¦­ ì´ë²¤íŠ¸ ë“±ë¡
            document.querySelectorAll('.menu-item').forEach(item => {
                item.addEventListener('click', () => {
                    toggleMenuItem(item.dataset.item);
                });
            });
        });

        async function initializeKioskAssistant() {
            try {
                // API í‚¤ë¥¼ í™˜ê²½ë³€ìˆ˜ë‚˜ ì‚¬ìš©ì ì…ë ¥ìœ¼ë¡œ ë°›ë„ë¡ ìˆ˜ì •
                const openaiApiKey = prompt('OpenAI API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”:');
                const hyperclovaApiKey = prompt('HyperCLOVA X API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”:');
                
                if (!openaiApiKey || !hyperclovaApiKey) {
                    throw new Error('API í‚¤ê°€ í•„ìš”í•©ë‹ˆë‹¤');
                }
                
                assistant = new AIAssistantStandalone({
                    openaiApiKey: openaiApiKey,
                    hyperclovaApiKey: hyperclovaApiKey,
                    language: 'ko-KR'
                });

                // AI Assistantì˜ ì›ë³¸ processCommand ë©”ì†Œë“œë¥¼ ì €ì¥
                const originalProcessCommand = assistant.processCommand.bind(assistant);
                
                // ì„±ëŠ¥ ì¸¡ì •ì„ ìœ„í•œ ë˜í¼ í•¨ìˆ˜
                assistant.processCommand = async function(transcript) {
                    const startTime = Date.now();
                    updateVoiceStatus('ì²˜ë¦¬ì¤‘...', true);
                    updateAIStrategy('ğŸ”„ Fast-First Fallback ì‹¤í–‰ì¤‘...');
                    
                    addLog(`ğŸ¤ ìŒì„± ì¸ì‹: "${transcript}"`, 'info');
                    
                    try {
                        const result = await originalProcessCommand(transcript);
                        const endTime = Date.now();
                        const responseTime = endTime - startTime;
                        
                        // ì„±ëŠ¥ í†µê³„ ì—…ë°ì´íŠ¸
                        performanceStats.totalCommands++;
                        performanceStats.totalResponseTime += responseTime;
                        
                        if (result && result.confidence > 0.6) {
                            performanceStats.successfulCommands++;
                            performanceStats.lastConfidence = result.confidence;
                            
                            // ë©”ë‰´ ì•„ì´í…œ ì²˜ë¦¬
                            await handleVoiceCommand(transcript, result);
                            
                            addLog(`âœ… AI ì²˜ë¦¬ ì„±ê³µ: ${result.source} (${responseTime}ms, ${Math.round(result.confidence * 100)}% ì‹ ë¢°ë„)`, 'success');
                            updateAIStrategy(`âœ… ${result.source} ì„±ê³µ (${responseTime}ms)`);
                        } else {
                            addLog(`âš ï¸ ë‚®ì€ ì‹ ë¢°ë„: ${result ? Math.round(result.confidence * 100) : 0}%`, 'warning');
                            updateAIStrategy('âš ï¸ ì‹ ë¢°ë„ ë¶€ì¡±');
                        }
                        
                        updatePerformanceDisplay(responseTime, result ? result.confidence : 0);
                        updateVoiceStatus('ìŒì„± ì¸ì‹ ëŒ€ê¸°ì¤‘...', false);
                        
                        return result;
                    } catch (error) {
                        const endTime = Date.now();
                        const responseTime = endTime - startTime;
                        
                        addLog(`âŒ AI ì²˜ë¦¬ ì‹¤íŒ¨: ${error.message}`, 'error');
                        updatePerformanceDisplay(responseTime, 0);
                        updateVoiceStatus('ì˜¤ë¥˜ ë°œìƒ', false);
                        updateAIStrategy('âŒ ì²˜ë¦¬ ì‹¤íŒ¨');
                        
                        throw error;
                    }
                };

                addLog('ğŸ¤– AI Assistant ì´ˆê¸°í™” ì™„ë£Œ', 'success');
                updateAIStrategy('âœ… Fast-First Fallback ì¤€ë¹„ì™„ë£Œ');
                
                // ìë™ìœ¼ë¡œ ìŒì„± ì¸ì‹ ì‹œì‘
                setTimeout(() => {
                    startVoiceRecognition();
                }, 1000);
                
            } catch (error) {
                addLog(`âŒ ì´ˆê¸°í™” ì‹¤íŒ¨: ${error.message}`, 'error');
            }
        }

        async function handleVoiceCommand(transcript, result) {
            const lowerTranscript = transcript.toLowerCase();
            
            // ë©”ë‰´ ì•„ì´í…œ ë§¤ì¹­
            const menuItems = {
                'ì•„ë©”ë¦¬ì¹´ë…¸': ['ì•„ë©”ë¦¬ì¹´ë…¸', 'ì•„ë©”', 'ì»¤í”¼'],
                'ì¹´í˜ë¼ë–¼': ['ë¼ë–¼', 'ì¹´í˜ë¼ë–¼', 'ë°€í¬ì»¤í”¼'],
                'ì¹´í‘¸ì¹˜ë…¸': ['ì¹´í‘¸ì¹˜ë…¸', 'ì¹´í‘¸'],
                'ë°”ë‹ë¼ë¼ë–¼': ['ë°”ë‹ë¼', 'ë°”ë‹ë¼ë¼ë–¼'],
                'ì•„ì´ìŠ¤í‹°': ['ì•„ì´ìŠ¤í‹°', 'ì°¨', 'í‹°'],
                'í•«ì´ˆì½œë¦¿': ['ì´ˆì½œë¦¿', 'í•«ì´ˆì½œë¦¿', 'ì½”ì½”ì•„'],
                'í¬ë¡œì™€ìƒ': ['í¬ë¡œì™€ìƒ', 'ë¹µ'],
                'ì¹˜ì¦ˆì¼€ì´í¬': ['ì¼€ì´í¬', 'ì¹˜ì¦ˆì¼€ì´í¬'],
                'ë§ˆì¹´ë¡±': ['ë§ˆì¹´ë¡±', 'ì¿ í‚¤']
            };
            
            // ë©”ë‰´ ë§¤ì¹­ ì‹œë„
            for (const [itemName, keywords] of Object.entries(menuItems)) {
                if (keywords.some(keyword => lowerTranscript.includes(keyword))) {
                    toggleMenuItem(itemName);
                    addLog(`ğŸ½ï¸ ë©”ë‰´ ì„ íƒ: ${itemName}`, 'ai');
                    break;
                }
            }
            
            // íŠ¹ë³„ ëª…ë ¹ ì²˜ë¦¬
            if (lowerTranscript.includes('ì£¼ë¬¸') || lowerTranscript.includes('ê²°ì œ')) {
                processOrder();
            } else if (lowerTranscript.includes('ì·¨ì†Œ') || lowerTranscript.includes('ì´ˆê¸°í™”')) {
                clearSelection();
            } else if (lowerTranscript.includes('ë„ì›€') || lowerTranscript.includes('í—¬í”„')) {
                showHelp();
            }
            
            // í•œêµ­ ë¬¸í™” ë§¥ë½ ì²˜ë¦¬ (ë§¥ë‚ , ìŠ¤ë²… ë“±)
            if (lowerTranscript.includes('ë§¥ë‚ ') || lowerTranscript.includes('ë§¥ë„ë‚ ë“œ')) {
                addLog('ğŸ” ë§¥ë„ë‚ ë“œ ê´€ë ¨ ìš”ì²­ - ì™¸ë¶€ ê²€ìƒ‰ ì¶”ì²œ', 'ai');
                updateAIStrategy('ğŸ‡°ğŸ‡· í•œêµ­ ë¬¸í™” ë§¥ë½ ì¸ì‹');
            } else if (lowerTranscript.includes('ìŠ¤ë²…') || lowerTranscript.includes('ìŠ¤íƒ€ë²…ìŠ¤')) {
                addLog('â˜• ìŠ¤íƒ€ë²…ìŠ¤ ê´€ë ¨ ìš”ì²­ - ê²½ìŸì—…ì²´ì…ë‹ˆë‹¤!', 'warning');
                updateAIStrategy('ğŸ‡°ğŸ‡· ê²½ìŸì—…ì²´ ì–¸ê¸‰ ê°ì§€');
            }
        }

        function startVoiceRecognition() {
            if (assistant) {
                assistant.startListening();
                updateVoiceStatus('ğŸ¤ ìŒì„± ì¸ì‹ í™œì„±í™” - ë§ì”€í•´ì£¼ì„¸ìš”', true);
                addLog('ğŸ¤ ìŒì„± ì¸ì‹ ì‹œì‘', 'info');
            }
        }

        function stopVoiceRecognition() {
            if (assistant) {
                assistant.stopListening();
                updateVoiceStatus('ìŒì„± ì¸ì‹ ì¤‘ì§€ë¨', false);
                addLog('ğŸ›‘ ìŒì„± ì¸ì‹ ì¤‘ì§€', 'info');
            }
        }

        function toggleMenuItem(itemName) {
            const menuItem = document.querySelector(`[data-item="${itemName}"]`);
            if (!menuItem) return;
            
            if (selectedItems.includes(itemName)) {
                // ì„ íƒ í•´ì œ
                selectedItems = selectedItems.filter(item => item !== itemName);
                menuItem.classList.remove('selected');
                addLog(`â– ë©”ë‰´ ì œê±°: ${itemName}`, 'info');
            } else {
                // ì„ íƒ ì¶”ê°€
                selectedItems.push(itemName);
                menuItem.classList.add('selected');
                addLog(`â• ë©”ë‰´ ì¶”ê°€: ${itemName}`, 'success');
            }
        }

        function processOrder() {
            if (selectedItems.length === 0) {
                addLog('âš ï¸ ì„ íƒëœ ë©”ë‰´ê°€ ì—†ìŠµë‹ˆë‹¤', 'warning');
                return;
            }
            
            addLog(`ğŸ›’ ì£¼ë¬¸ ì²˜ë¦¬: ${selectedItems.join(', ')}`, 'success');
            addLog('ğŸ’³ ê²°ì œ í™”ë©´ìœ¼ë¡œ ì´ë™...', 'info');
            
            // ê°„ë‹¨í•œ ì£¼ë¬¸ ì™„ë£Œ íš¨ê³¼
            setTimeout(() => {
                selectedItems = [];
                document.querySelectorAll('.menu-item').forEach(item => {
                    item.classList.remove('selected');
                });
                addLog('âœ… ì£¼ë¬¸ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
            }, 2000);
        }

        function clearSelection() {
            selectedItems = [];
            document.querySelectorAll('.menu-item').forEach(item => {
                item.classList.remove('selected');
            });
            addLog('ğŸ—‘ï¸ ì„ íƒ ì´ˆê¸°í™” ì™„ë£Œ', 'info');
        }

        function showHelp() {
            addLog('â“ ë„ì›€ë§: "ì•„ë©”ë¦¬ì¹´ë…¸", "ë¼ë–¼ 2ê°œ", "ì£¼ë¬¸í•˜ê¸°" ë“±ìœ¼ë¡œ ë§ì”€í•´ì£¼ì„¸ìš”', 'info');
            addLog('ğŸ’¡ í•œêµ­ì–´ í‘œí˜„: "ë§¥ë‚ ", "ìŠ¤ë²…" ê°™ì€ ì¶•ì•½ì–´ë„ ì¸ì‹í•©ë‹ˆë‹¤', 'info');
        }

        function cancelOrder() {
            clearSelection();
            addLog('âŒ ì£¼ë¬¸ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤', 'warning');
        }

        // ì„±ëŠ¥ í‘œì‹œ ì—…ë°ì´íŠ¸
        function updatePerformanceDisplay(responseTime, confidence) {
            document.getElementById('responseTime').textContent = `${responseTime}ms`;
            document.getElementById('confidence').textContent = `${Math.round(confidence * 100)}%`;
            
            const successRate = performanceStats.totalCommands > 0 
                ? Math.round((performanceStats.successfulCommands / performanceStats.totalCommands) * 100)
                : 0;
            document.getElementById('successRate').textContent = `${successRate}%`;
            document.getElementById('totalCommands').textContent = performanceStats.totalCommands;
        }

        function updateVoiceStatus(text, isListening) {
            const micIndicator = document.getElementById('micIndicator');
            const statusText = document.getElementById('voiceStatusText');
            
            statusText.textContent = text;
            
            if (isListening) {
                micIndicator.classList.add('listening');
            } else {
                micIndicator.classList.remove('listening');
            }
        }

        function updateAIStrategy(text) {
            document.getElementById('aiStrategy').textContent = text;
        }

        // ë¡œê·¸ ê´€ë ¨ í•¨ìˆ˜ë“¤
        function addLog(message, type = 'info') {
            const logContent = document.getElementById('logContent');
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = document.createElement('div');
            logEntry.className = `log-entry ${type}`;
            logEntry.textContent = `[${timestamp}] ${message}`;
            
            logContent.appendChild(logEntry);
            logContent.scrollTop = logContent.scrollHeight;
            
            // ë¡œê·¸ê°€ ë„ˆë¬´ ë§ì•„ì§€ë©´ ì˜¤ë˜ëœ ê²ƒ ì œê±°
            if (logContent.children.length > 100) {
                logContent.removeChild(logContent.firstChild);
            }
        }

        function clearLogs() {
            document.getElementById('logContent').innerHTML = '';
            addLog('ğŸ“ ë¡œê·¸ê°€ ì§€ì›Œì¡ŒìŠµë‹ˆë‹¤', 'info');
        }

        function exportLogs() {
            const logs = Array.from(document.querySelectorAll('.log-entry'))
                .map(entry => entry.textContent)
                .join('\n');
            
            const blob = new Blob([logs], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `kiosk-logs-${new Date().toISOString().slice(0, 10)}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            addLog('ğŸ’¾ ë¡œê·¸ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
        }

        // í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤
        document.addEventListener('keydown', (e) => {
            switch(e.key) {
                case ' ':
                    if (e.ctrlKey) {
                        e.preventDefault();
                        startVoiceRecognition();
                    }
                    break;
                case 'Escape':
                    stopVoiceRecognition();
                    break;
                case 'Enter':
                    if (e.ctrlKey) {
                        processOrder();
                    }
                    break;
                case 'Delete':
                    if (e.ctrlKey) {
                        clearSelection();
                    }
                    break;
            }
        });
    </script>
</body>
</html>